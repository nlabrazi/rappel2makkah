<div class="container">
  <h1 class="main-title">Rappel2Makkah - Audios</h1>

  <div class="audios-grid">
    <mat-card *ngFor="let audio of audios" class="audio-card">
      <mat-card-header>
        <mat-card-title>{{ audio.title }}</mat-card-title>
        <mat-card-subtitle>{{ audio.createdAt | date }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <p>{{ audio.excerpt || "Pas de description disponible." }}</p>
      </mat-card-content>

      <div class="audio-player">
        <audio controls>
          <source [src]="audio.audioUrl" type="audio/mpeg" />
          Votre navigateur ne supporte pas l'élément audio.
        </audio>
      </div>

      <mat-card-actions>
        <a
          mat-button
          color="primary"
          [href]="audio.audioUrl"
          download
          (click)="$event.stopPropagation()"
        >
          TÉLÉCHARGER
        </a>

        <button
          mat-icon-button
          (click)="shareAudio(audio)"
          aria-label="Partager"
        >
          <mat-icon>share</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
