<div class="container">
  <h1 class="main-title">Rappel2Makkah - Articles</h1>

  <div class="articles-grid">
    <mat-card
      *ngFor="let article of articles"
      class="article-card"
      [routerLink]="['/article', article.id]"
    >
      <mat-card-header>
        <mat-card-title>{{ article.title }}</mat-card-title>
        <mat-card-subtitle>{{ article.createdAt | date }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <p>{{ article.excerpt }}</p>
      </mat-card-content>

      <div class="audio-player" *ngIf="article.audioUrl">
        <audio controls (click)="$event.stopPropagation()">
          <source [src]="article.audioUrl" type="audio/mpeg" />
        </audio>
      </div>

      <mat-card-actions>
        <button
          mat-button
          color="primary"
          (click)="$event.stopPropagation()"
          [routerLink]="['/article', article.id]"
        >
          LIRE LA SUITE
        </button>
        <button
          mat-icon-button
          (click)="$event.stopPropagation()"
          aria-label="Partager"
        >
          <mat-icon>share</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
